<ion-header no-border>
  <ion-toolbar>
    <ion-buttons *ngIf="!isGenerating" slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{ isGenerating ? 'Save' : 'Edit' }} {{ 'secret-edit.title' | translate }}</ion-title>

    <ion-buttons slot="primary" *ngIf="!isGenerating">
      <ion-button (click)="presentEditPopover($event)"><ion-icon slot="icon-only" name="more"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <p>{{ 'secret-edit.text' | translate }}</p>

  <ion-item class="ion-no-padding">
    <ion-label color="white" position="floating">{{ 'secret-edit.secret_input_label' | translate }}</ion-label>
    <ion-input [(ngModel)]="secret.label"></ion-input>
  </ion-item>

  <p class="font--weight__med ion-padding-top">{{ 'secret-edit.security-level.heading' | translate }}</p>

  <p>{{ 'secret-edit.security-level.text' | translate }}</p>

  <ion-list>
    <ion-item lines="none" class="ion-no-padding">
      <ion-avatar slot="start">
        <!--
        <ion-text-avatar [color]="secret.isParanoia ? 'primary' : 'secondary-light'">
          <ion-icon md-name="fiber_pin"></ion-icon>
				</ion-text-avatar>
			-->
      </ion-avatar>
      <ion-label color="white">
        {{ 'secret-edit.passcode.label' | translate }}
        <p>{{ 'secret-edit.passcode.text' | translate }}</p>
      </ion-label>
      <ion-checkbox slot="end" class="ion-no-margin" [(ngModel)]="secret.isParanoia" [disabled]="!secret.secretHex"></ion-checkbox>
    </ion-item>
  </ion-list>

  <p class="font--weight__med">{{ 'secret-edit.secret-recovery.heading' | translate }}</p>

  <p *ngIf="isGenerating">{{ 'secret-edit.secret-recovery.text' | translate }}</p>

  <ion-item lines="none" detail="true" class="ion-no-padding" (click)="goToSocialRecoverySetup()" [disabled]="isGenerating">
    <ion-avatar slot="start">
      <!--
      <ion-text-avatar [color]="secret.hasSocialRecovery ? 'primary' : 'secondary-light'">
        <ion-icon md-name="group_work"></ion-icon>
      </ion-text-avatar>-->
    </ion-avatar>
    <ion-label>
      <h2>{{ 'secret-edit.social-recovery.label' | translate }}</h2>
      <ion-text color="white">
        <p [innerHTML]="'secret-edit.social-recovery.text' | translate"></p>
      </ion-text>
    </ion-label>
  </ion-item>

  <p class="font--weight__med">{{ 'secret-edit.interaction.label' | translate }}</p>

  <ion-item lines="none" detail="true" class="ion-no-padding" (click)="goToWalletInteraction()" text-wrap>
    <ion-avatar slot="start">
      <!--
      <ion-text-avatar [color]="interactionSetting ? 'primary' : 'secondary-light'"><ion-icon name="swap"></ion-icon></ion-text-avatar>-->
    </ion-avatar>
    <p [innerHTML]="'secret-edit.interaction.text' | translate"></p>
  </ion-item>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-button color="primary" shape="round" *ngIf="secret.label" [disabled]="secret.label.length < 1" (click)="confirm()">
      {{ 'secret-edit.confirm_label' | translate }}
    </ion-button>
  </ion-fab>
</ion-content>
